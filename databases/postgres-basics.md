# Базовый Postgres

[Ссылка на полезную книжку](http://www.r-5.org/files/books/computers/languages/sql/mysql/Alan_Beaulieu-Learning_SQL-RU.pdf)

База данных отвечает за следующие вещи:

- Хранение данных;
- Умправление данными;
- Извлечение данных.

Для манипуляции над данными существует язык SQL (**S**tructured **Q**uery **L**anguage)

В языке SQL традиционно выделяются группа операторов определения данных (Data Definition Language — DDL), группа операторов
манипулирования данными (Data Manipulation Language — DML) и группа операторов, управляющих привилегиями доступа к объектам базы данных (Data Control
Language — DCL).
К операторам языка определения данных (DDL) относятся команды для создания, изменения и удаления таблиц, представлений и других объектов базы данных. 
К операторам языка манипулирования данными (DML) относятся команды для выборки строк из таблиц, вставки строк в таблицы, обновления и удаления строк.

Самый типичный пример запроса на данном языке выглядит следующим образом:

```sql
SELECT * FROM table_name
```

Синтаксис данного языка интуитивно понятен, на примере выше выбирается вся информация из какой-то таблицы, с помощью оператора *

Если ты на маке или линуксе, то для удобства стоит изначально добавить путь до бинарных файлов PSQL в переменные окружения для дальнейшего удобства использования БД из консоли.

Чтобы сделать это в локальном конфиге (.zshrc или .bashrc) нужно прописать следующую команду:

```bash
export PATH=$PATH:/Applications/Postgres.app/Contents/Versions/14/bin
```

> Стоит заметить, что путь к папке может быть немного иным, при установке разных версий PSQL, но примерный путь должен остаться таким же.

## Основные команды внутри терминала PostgreSQL 

1. \l - отображает список доступных баз данных для подключения
2. \c - подключиться к базе данных под дефолтным пользователем
3. \d - отображает список доступных таблиц в базе данных
4. \d <tablename> - отобразить информацию о конкретной таблице
5. \? - функция ПАМАГИТЕ или просто хороший гайд по всем командам

## Основные операции над таблицей (DDL-команды)

1. Создание таблицы:
```sql
CREATE TABLE table_name (
	Column name + data type + constraints if any
);
```
2. Удаление таблицы: 
```sql
DROP TABLE table_name;
```
3. Вставка в таблицу:
```sql
INSERT INTO table_name (
	column1,
	column2,
	column3,
	...
) VALUES ('VALUE1', 'VALUE2', 'VALUE3', ...)
```
4. Обновление или изменение данных
```sql
ALTER TABLE table_name {
	ADD column_name comumn_type [column_attr] | 
  	DROP COLUMN column_name |
  	ALTER COLUMN column_name comumn_type [NULL|NOT NULL] |
  	ADD [CONSTRAINT] constraint_definition |
  	DROP [CONSTRAINT] constraint_definition
}
```

Также на поля можно накладывать ограничения:

- ``` NOT NULL``` - поле не может существовать без значения
- ``` PRIMARY KEY ``` - поле является первичным ключом, содержит в себе ```NOT NULL```
- ```FORIGN KEY``` - поле является внешним ключем, необходимым для связи таблиц
